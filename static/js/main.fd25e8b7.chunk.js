(this.webpackJsonpatg=this.webpackJsonpatg||[]).push([[0],[,,,function(e,a,t){e.exports={root:"styles_root__2p3R-",resultList:"styles_resultList___sqYF",listHeader:"styles_listHeader__1Q9__",raceInfo:"styles_raceInfo__2uU4i",startsWrapper:"styles_startsWrapper__mDFoF",startListItem:"styles_startListItem__2wkWd",startInfo:"styles_startInfo__2J8Ky",startsHeader:"styles_startsHeader__3wM4K",collapse:"styles_collapse__3x0nH",more:"styles_more__1wqkY"}},,,function(e,a,t){e.exports={root:"styles_root__paC6L",wrapper:"styles_wrapper__ALg3g",header:"styles_header__8N-fH",expanded:"styles_expanded__3LNgm",arrow:"styles_arrow__2UNKQ",rotate:"styles_rotate__3eNHc"}},,,function(e,a,t){e.exports={root:"styles_root__ndhNT",inner:"styles_inner__1A6LG",input:"styles_input__10hVs",label:"styles_label__Ty0rf",cta:"styles_cta__3DnFt"}},function(e,a,t){e.exports={root:"style_root__2wY7E",header:"style_header__1JamG",main:"style_main__2o8vd"}},function(e,a,t){e.exports={root:"styles_root__3V0Ux",color:"styles_color__2gIsW",label:"styles_label__2cdIh"}},function(e,a,t){e.exports={root:"styles_root__HFra0",padding:"styles_padding__2QOL7",divider:"styles_divider__HxJsZ"}},function(e,a,t){e.exports={root:"styles_root__3ZJGf",maxWidth:"styles_maxWidth__buRuZ"}},,,function(e,a,t){e.exports={root:"styles_root__2Dga5"}},function(e,a,t){e.exports={root:"styles_root__3m_lI"}},function(e,a,t){e.exports=t(25)},,,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(15),c=t.n(s),l=t(2),o=t(1),i=t.n(o),u=t(10),m=t.n(u),d=t(13),p=t.n(d),f=function(e){var a=e.className,t=e.children,n=e.component,s=void 0===n?"div":n,c=Object(l.a)(e,["className","children","component"]);return r.a.createElement(s,Object.assign({className:i()(p.a.root,p.a.maxWidth,a)},c),t)};f.uiName="Container";var _=f,b=function(e){var a=e.className,t=e.children,n=Object(l.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:i()(m.a.root,a)},n),r.a.createElement("header",{className:m.a.header},"This is header"),r.a.createElement(_,{component:"main",className:m.a.main},t))};b.uiName="App";var v=b,h=t(5),E={game:[],products:[],searchResults:{},isLoading:!1},N=r.a.createContext({});function g(e){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=e,t=Object(n.useState)(a.searchResults),r=Object(h.a)(t,2),s=r[0],c=r[1],l=Object(n.useState)(a.products),o=Object(h.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)(a.game),d=Object(h.a)(m,2),p=d[0],f=d[1],_=Object(n.useState)(a.isLoading),b=Object(h.a)(_,2),v=b[0],N=b[1],g=Object(n.useCallback)((function(){N(!0)}),[]),y=Object(n.useCallback)((function(){N(!1)}),[]);return{game:p,setGame:f,products:i,setProducts:u,isLoading:v,searchResults:s,setSearchResults:c,onFetchStart:g,onFetchEnd:y}}(e);return r.a.createElement(N.Provider,{value:a},e.children)}var y=function(){return r.a.useContext(N)},O=function(e){var a=e.children,t=Object(l.a)(e,["children"]);return r.a.createElement(g,t,r.a.createElement(v,null,a))},j=t(4),x=t.n(j),w=t(7),k=function(){var e=Object(w.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://www.atg.se/services/racinginfo/v1/api/products/",a.toUpperCase());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(w.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://www.atg.se/services/racinginfo/v1/api/games/",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(w.a)(x.a.mark((function e(a){var t,n,r,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"",e.prev=1,e.next=4,fetch(a+t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),I=t(11),R=t.n(I),H=function(e){var a=e.className,t=e.children,n=Object(l.a)(e,["className","children"]);return r.a.createElement("button",Object.assign({className:i()(R.a.root,R.a.color,a),"data-testid":"button"},n),r.a.createElement("span",{className:R.a.label},t))};H.uiName="Button";var C=H,F=t(9),T=t.n(F),D=r.a.forwardRef((function(e,a){e.children;var t=e.className,n=e.label,s=e.cta,c=Object(l.a)(e,["children","className","label","cta"]);return r.a.createElement("div",{className:i()(T.a.root,t)},n&&r.a.createElement("label",{className:T.a.label},n),r.a.createElement("div",{className:T.a.inner},r.a.createElement("input",Object.assign({ref:a,className:T.a.input},c)),s&&r.a.createElement("div",{className:T.a.cta},s)))}));D.uiName="Input";var W=D,J=t(16),V=t.n(J),G=r.a.forwardRef((function(e,a){e.className;var t=e.onSearchClick,n=Object(l.a)(e,["className","onSearchClick"]);return r.a.createElement(W,Object.assign({ref:a,label:"Search for a gametype:",type:"search",cta:r.a.createElement(C,{onClick:t},"Search"),className:V.a.root,placeholder:"Search for V4, V64, V65 or V75 ..."},n))}));G.uiName="Searchbar";var P=G,A=r.a.forwardRef((function(e,a){var t=y(),s=t.setSearchResults,c=t.onFetchStart,l=t.onFetchEnd,o=Object(n.useState)(""),i=Object(h.a)(o,2),u=i[0],m=i[1],d=function(){var e=Object(w.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(u);case 2:a=e.sent,s(a),l();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(P,{ref:a,onChange:function(e){m(e.target.value)},value:u,onSearchClick:function(){c(),d()}})}));A.uiName="EnhancedSearchbar";var M=A,U=t(17),K=t.n(U),Q=function(e){var a=e.className,t=e.children,n=e.component,s=void 0===n?"ul":n,c=Object(l.a)(e,["className","children","component"]);return r.a.createElement(s,Object.assign({className:i()(K.a.root,a)},c),t)};Q.uiName="List";var Y=Q,Z=t(8),q=t(12),B=t.n(q),z=function(e){var a,t=e.className,n=e.children,s=e.component,c=void 0===s?"li":s,o=e.disableDivider,u=void 0!==o&&o,m=e.disablePadding,d=void 0!==m&&m,p=Object(l.a)(e,["className","children","component","disableDivider","disablePadding"]);return r.a.createElement(c,Object.assign({className:i()(B.a.root,(a={},Object(Z.a)(a,B.a.padding,!d),Object(Z.a)(a,B.a.divider,!u),a),t)},p),n)};z.uiName="ListItem";var X=z,$=t(6),ee=t.n($),ae=function(e){var a=e.className,t=e.children,s=e.component,c=void 0===s?"div":s,o=e.label,u=Object(l.a)(e,["className","children","component","label"]),m=Object(n.useState)(!0),d=Object(h.a)(m,2),p=d[0],f=d[1],_=Object(n.useState)(0),b=Object(h.a)(_,2),v=b[0],E=b[1],N=Object(n.useRef)(null),g=new MutationObserver((function(e,a){e.forEach((function(e){"style"===e.attributeName&&setTimeout((function(){y()}),200)}))}));Object(n.useEffect)((function(){y(),p?g.disconnect():g.observe(N.current,{attributes:!0,class:!0,childList:!0,subtree:!0})}),[p,g]);var y=function(){var e=N.current?N.current.clientHeight:0;E(p?0:e)};return r.a.createElement(c,Object.assign({className:i()(ee.a.root,Object(Z.a)({},ee.a.expanded,!p),a),"data-testid":"collapse"},u),r.a.createElement("div",{className:i()(ee.a.header,Object(Z.a)({},ee.a.expanded,!p)),"data-testid":"collapse-header",onClick:function(){f(!p)}},r.a.createElement("h6",null,o),r.a.createElement("span",{className:i()(ee.a.arrow,Object(Z.a)({},ee.a.rotate,!p))},"\u2193")),r.a.createElement("div",{className:ee.a.wrapper,style:{height:v}},r.a.createElement("div",{className:ee.a.innerWrapper,ref:N},t)))};ae.uiName="Collapse";var te=ae,ne=t(3),re=t.n(ne),se=function(e){var a,t=e.game,n=void 0===t?{}:t,s=e.isLoading,c=void 0!==s&&s,l=e.betType,o=n&&Object.keys(n).length>0?r.a.createElement("div",null,r.a.createElement("h1",null,"Results for ",l),r.a.createElement("div",{className:re.a.listHeader},r.a.createElement("span",null,"Race number"),r.a.createElement("span",null,"Track name"),r.a.createElement("span",null,"Start time")),null===n||void 0===n||null===(a=n.races)||void 0===a?void 0:a.map((function(e){return r.a.createElement(Y,{key:e.id,className:re.a.resultList},r.a.createElement(X,{className:re.a.raceInfo},r.a.createElement("span",null,e.number),r.a.createElement("span",null,e.track.name),r.a.createElement("span",null,(a=e.startTime,new Date(a).toLocaleString()))),r.a.createElement(X,{className:re.a.startsWrapper,disableDivider:!0,disablePadding:!0},r.a.createElement(te,{label:"Starts",className:re.a.collapse},r.a.createElement(Y,null,e.starts.map((function(e){return r.a.createElement(r.a.Fragment,{key:"".concat(e.id," ").concat(e.number)},r.a.createElement(X,{className:i()(re.a.startsHeader,re.a.startListItem),disableDivider:!0},r.a.createElement("span",null,"Start number"),r.a.createElement("span",null,"Horse name"),r.a.createElement("span",null,"Rider name")),r.a.createElement(X,null,r.a.createElement("div",{className:i()(re.a.startInfo,re.a.startListItem)},r.a.createElement("span",null,e.number),r.a.createElement("span",null,e.horse.name),r.a.createElement("span",null,"".concat(e.driver.firstName," ").concat(e.driver.lastName))),r.a.createElement(te,{label:"More"},r.a.createElement("div",{className:i()(re.a.startsHeader,re.a.startListItem,re.a.more)},r.a.createElement("span",null,"Trainer name"),r.a.createElement("span",null,"Horse fathers name")),r.a.createElement(X,{disableDivider:!0,component:"div",className:i()(re.a.startListItem,re.a.more)},r.a.createElement("span",null,"".concat(e.horse.trainer.firstName," ").concat(e.horse.trainer.lastName)),r.a.createElement("span",null,e.horse.pedigree.father.name)))))}))))));var a}))):r.a.createElement("p",null,"No results");return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("p",null,"Loading ..."):o)};se.uiName="Results";var ce=se,le=function(e){var a=y(),t=a.game,s=a.setGame,c=a.searchResults,l=a.isLoading;Object(n.useEffect)((function(){o()}),[c]);var o=function(){var e=Object(w.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0===c){e.next=12;break}if(!c.upcoming){e.next=8;break}return e.next=5,L(c.upcoming[0].id);case 5:a=e.sent,e.next=12;break;case 8:if(!c.result){e.next=12;break}return e.next=11,L(c.results[0].id);case 11:a=e.sent;case 12:s(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ce,{betType:(null===c||void 0===c?void 0:c.betType)||"",isLoading:l,game:t})};le.uiName="EnhancedResults";var oe=le,ie=r.a.forwardRef((function(e,a){var t=e.className,n=Object(l.a)(e,["className"]);return r.a.createElement(O,Object.assign({ref:a,className:t},n),r.a.createElement(M,null),r.a.createElement(oe,null))}));ie.uiName="App";var ue=ie;t(24);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.fd25e8b7.chunk.js.map